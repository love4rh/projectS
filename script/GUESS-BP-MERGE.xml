<?xml version="1.0" encoding="UTF-8"?>

<crawlegoProject version="1.0">
	<settings>
		<params>
		</params>
	</settings>

	<macros>
		<macro name="IN_PATH" class="com.lge.crawlego.macro.DefinedValue">
			<param name="value"><![CDATA[D:\work\jupyter\krx\output\stat\]]></param>
		</macro>
		<macro name="OUT_PATH" class="com.lge.crawlego.macro.DefinedValue">
			<param name="value"><![CDATA[D:\work\jupyter\krx\resource\]]></param>
		</macro>
		<macro name="DO_SERVER" class="com.lge.crawlego.macro.DefinedValue">
			<param name="value"><![CDATA[13.124.29.70]]></param>
		</macro>
		<macro name="yyyymmdd" class="com.lge.crawlego.macro.ExpressionValue">
			<param name="expression"><![CDATA[DATETOSTR(NOW(), 'yyyyMMdd')]]></param>
		</macro>
	</macros>



	<inputNodes>
		<inputNode name="BP-GUESS" type="FILE">
			<path><![CDATA[$(IN_PATH)GS-*.txt]]></path>
			<columns>
				<column name="P_CODE" type="string" />
				<column name="DATE" type="string" />
				<column name="B_PR" type="real" />
				<column name="HI_PR" type="real" />
				<column name="LO_PR" type="real" />
				<column name="LAST_P" type="real" />
				<column name="TRD" type="real" />
				<column name="DX" type="real" />
				<column name="MV/10" type="real" />
				<column name="MV/40" type="real" />
				<column name="MV/80" type="real" />
				<column name="S_VALUE" type="real" />
				<column name="SV/10" type="real" />
				<column name="SLOPE/T20" type="real" />
				<column name="SLOPE/20" type="real" />
				<column name="SV/40" type="real" />
				<column name="SLOPE/40" type="real" />
				<column name="AVG/40" type="real" />
				<column name="HL/40" type="real" />
				<column name="T1/40" type="real" />
				<column name="UD/40" type="real" />
				<column name="SV/60" type="real" />
				<column name="SLOPE/60" type="real" />
				<column name="AVG/60" type="real" />
				<column name="HL/60" type="real" />
				<column name="T1/60" type="real" />
				<column name="UD/60" type="real" />
				<column name="SV/80" type="real" />
				<column name="SLOPE/80" type="real" />
				<column name="AVG/80" type="real" />
				<column name="HL/80" type="real" />
				<column name="T1/80" type="real" />
				<column name="UD/80" type="real" />
				<column name="PT/20" type="real" />
				<column name="SUGGEST" type="real" />
			</columns>
			<ui>
				<position x="106" y="96" />
				<description><![CDATA[]]></description>
			</ui>
		</inputNode>

		<inputNode name="PREVIOUS" type="FILE">
			<path><![CDATA[$(OUT_PATH)_BP_WEEK.txt]]></path>
			<columns>
				<column name="P_CODE" type="string" />
			</columns>
			<ui>
				<position x="110" y="222" />
				<description><![CDATA[]]></description>
			</ui>
		</inputNode>
	</inputNodes>


	<dataProcessing>
		<processingElem type="distinct">
			<dataSource alias="A1"><![CDATA[BP-GUESS]]></dataSource>
			<dataGroupName><![CDATA[DistinctData_1]]></dataGroupName>
			<ui>
				<position x="237" y="95" />
				<description><![CDATA[]]></description>
			</ui>
			<columns><![CDATA[P_CODE]]></columns>
		</processingElem>

		<processingElem type="merge">
			<dataSources>
				<dataSource alias="A1"><![CDATA[DistinctData_1]]></dataSource>
				<dataSource alias="A2"><![CDATA[PREVIOUS]]></dataSource>
			</dataSources>
			<dataGroupName><![CDATA[MergeData_1]]></dataGroupName>
			<ui>
				<position x="240" y="223" />
				<description><![CDATA[]]></description>
			</ui>
			<joinMethod>anti</joinMethod>
			<addKeyColumn>false</addKeyColumn>
			<equalKeys>
				<equalKey source="DistinctData_1"><![CDATA[P_CODE]]></equalKey>
				<equalKey source="PREVIOUS"><![CDATA[P_CODE]]></equalKey>
			</equalKeys>
			<selectColumns>
				<columns source="DistinctData_1"><![CDATA[P_CODE]]></columns>
				<columns source="PREVIOUS"><![CDATA[]]></columns>
			</selectColumns>
		</processingElem>
	</dataProcessing>

	<dataLoadings>
		<dataLoading name="SAVE_GUESS" source="DistinctData_1" type="file">
			<filePath><![CDATA[$(OUT_PATH)_BP_WEEK.txt]]></filePath>
			<remainFinFile><![CDATA[false]]></remainFinFile>
			<finFile><![CDATA[]]></finFile>
			<ui>
				<position x="381" y="95" />
				<description><![CDATA[]]></description>
			</ui>
		</dataLoading>

		<dataLoading name="SAVE_NEWS" source="MergeData_1" type="file">
			<filePath><![CDATA[$(OUT_PATH)_BP_DIFF.txt]]></filePath>
			<remainFinFile><![CDATA[false]]></remainFinFile>
			<finFile><![CDATA[]]></finFile>
			<ui>
				<position x="384" y="223" />
				<description><![CDATA[]]></description>
			</ui>
		</dataLoading>

		<dataLoading name="SAVE_NEWS_2" source="MergeData_1" type="file">
			<filePath><![CDATA[$(OUT_PATH)_BP_DIFF_$(yyyymmdd).txt]]></filePath>
			<remainFinFile><![CDATA[false]]></remainFinFile>
			<finFile><![CDATA[]]></finFile>
			<ui>
				<position x="382" y="322" />
				<description><![CDATA[]]></description>
			</ui>
		</dataLoading>

	</dataLoadings>
</crawlegoProject>
